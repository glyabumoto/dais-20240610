
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>deck.gl Example</title>
    <script src="https://unpkg.com/deck.gl@^8.0.0/dist.min.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet" />
    <style>
        body { margin: 0; padding: 0; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; }
    </style>
</head>
<body>
    <div id="map"></div>
    <script>
        mapboxgl.accessToken = 'xxxxx';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [-122.45, 37.75],
            zoom: 10
        });

        var data = [{"lat":37.7374540119,"lon":-122.4968570814,"value":24},{"lat":37.7950714306,"lon":-122.4363589589,"value":75},{"lat":37.7731993942,"lon":-122.4685644019,"value":72},{"lat":37.7598658484,"lon":-122.4491429309,"value":36},{"lat":37.715601864,"lon":-122.4092433526,"value":38},{"lat":37.715599452,"lon":-122.4750707771,"value":84},{"lat":37.7058083612,"lon":-122.4589617077,"value":99},{"lat":37.7866176146,"lon":-122.4244448861,"value":89},{"lat":37.7601115012,"lon":-122.4771201835,"value":99},{"lat":37.7708072578,"lon":-122.492302009,"value":25},{"lat":37.7020584494,"lon":-122.4710248547,"value":93},{"lat":37.7969909852,"lon":-122.4838778713,"value":18},{"lat":37.7832442641,"lon":-122.4070302348,"value":82},{"lat":37.7212339111,"lon":-122.419187962,"value":66},{"lat":37.7181824967,"lon":-122.4366596243,"value":54},{"lat":37.718340451,"lon":-122.412853941,"value":35},{"lat":37.7304242243,"lon":-122.4196327923,"value":80},{"lat":37.7524756432,"lon":-122.4813429941,"value":61},{"lat":37.7431945019,"lon":-122.4107441002,"value":41},{"lat":37.729122914,"lon":-122.4460657758,"value":33},{"lat":37.7611852895,"lon":-122.4192559845,"value":68},{"lat":37.7139493861,"lon":-122.41039087,"value":33},{"lat":37.7292144649,"lon":-122.4681996525,"value":14},{"lat":37.7366361843,"lon":-122.4889948075,"value":21},{"lat":37.7456069984,"lon":-122.4772064837,"value":48},{"lat":37.7785175961,"lon":-122.4572892211,"value":20},{"lat":37.7199673782,"lon":-122.4181985234,"value":8},{"lat":37.7514234438,"lon":-122.4139269417,"value":7},{"lat":37.7592414569,"lon":-122.4993047869,"value":67},{"lat":37.7046450413,"lon":-122.4489252697,"value":17},{"lat":37.7607544852,"lon":-122.4582588997,"value":33},{"lat":37.7170524124,"lon":-122.477789219,"value":48},{"lat":37.7065051593,"lon":-122.4880134633,"value":76},{"lat":37.7948885537,"lon":-122.4662384829,"value":59},{"lat":37.7965632033,"lon":-122.4057090296,"value":86},{"lat":37.7808397348,"lon":-122.4676797068,"value":22},{"lat":37.7304613769,"lon":-122.4481209378,"value":30},{"lat":37.7097672114,"lon":-122.4296981041,"value":38},{"lat":37.7684233027,"lon":-122.4636370398,"value":51},{"lat":37.7440152494,"lon":-122.4028217917,"value":54},{"lat":37.7122038235,"lon":-122.4037552705,"value":8},{"lat":37.749517691,"lon":-122.4748217704,"value":27},{"lat":37.7034388521,"lon":-122.4502751494,"value":27},{"lat":37.7909320402,"lon":-122.469912169,"value":98},{"lat":37.7258779982,"lon":-122.4715159506,"value":21},{"lat":37.7662522284,"lon":-122.4963113053,"value":30},{"lat":37.7311711076,"lon":-122.4390435666,"value":97},{"lat":37.7520068021,"lon":-122.4497320977,"value":28},{"lat":37.7546710279,"lon":-122.4948521249,"value":64},{"lat":37.7184854456,"lon":-122.4721353536,"value":97},{"lat":37.7969584628,"lon":-122.4091734114,"value":69},{"lat":37.7775132823,"lon":-122.4760438109,"value":61},{"lat":37.7939498942,"lon":-122.4855105128,"value":48},{"lat":37.789482735,"lon":-122.451054724,"value":19},{"lat":37.7597899979,"lon":-122.4014349546,"value":4},{"lat":37.7921874235,"lon":-122.4757944728,"value":35},{"lat":37.7088492502,"lon":-122.4327864453,"value":64},{"lat":37.7195982862,"lon":-122.4238380385,"value":49},{"lat":37.7045227289,"lon":-122.4762362456,"value":17},{"lat":37.7325330331,"lon":-122.4271783651,"value":44},{"lat":37.738867729,"lon":-122.4632216867,"value":92},{"lat":37.7271349032,"lon":-122.4367694169,"value":30},{"lat":37.7828737509,"lon":-122.4366470289,"value":93},{"lat":37.7356753327,"lon":-122.4464225316,"value":46},{"lat":37.728093451,"lon":-122.490971023,"value":6},{"lat":37.7542696083,"lon":-122.4164697504,"value":99},{"lat":37.7140924225,"lon":-122.4679219935,"value":37},{"lat":37.7802196981,"lon":-122.481348149,"value":24},{"lat":37.7074550644,"lon":-122.4959224858,"value":93},{"lat":37.7986886937,"lon":-122.4409107057,"value":46},{"lat":37.7772244769,"lon":-122.4322435638,"value":53},{"lat":37.7198715682,"lon":-122.4983412171,"value":95},{"lat":37.7005522117,"lon":-122.4487906942,"value":99},{"lat":37.7815461428,"lon":-122.4773504225,"value":60},{"lat":37.7706857344,"lon":-122.435482721,"value":97},{"lat":37.7729007168,"lon":-122.4825633571,"value":63},{"lat":37.7771270347,"lon":-122.4309062262,"value":85},{"lat":37.7074044652,"lon":-122.4613264654,"value":32},{"lat":37.7358465729,"lon":-122.4063270011,"value":87},{"lat":37.711586906,"lon":-122.4862479056,"value":33},{"lat":37.7863103426,"lon":-122.4658933649,"value":67},{"lat":37.7623298127,"lon":-122.4886526479,"value":18},{"lat":37.7330898025,"lon":-122.4075306382,"value":25},{"lat":37.706355835,"lon":-122.4122660647,"value":95},{"lat":37.7310982322,"lon":-122.4742058372,"value":54},{"lat":37.7325183322,"lon":-122.4340015954,"value":58},{"lat":37.7729606178,"lon":-122.41827778,"value":67},{"lat":37.7637557471,"lon":-122.4444799188,"value":46},{"lat":37.7887212743,"lon":-122.4470349422,"value":24},{"lat":37.7472214925,"lon":-122.4758147709,"value":32},{"lat":37.7119594246,"lon":-122.4906897232,"value":47},{"lat":37.7713244787,"lon":-122.4102784242,"value":86},{"lat":37.7760785049,"lon":-122.4099581943,"value":23},{"lat":37.7561277198,"lon":-122.4366898543,"value":66},{"lat":37.777096718,"lon":-122.4660970209,"value":27},{"lat":37.7493795596,"lon":-122.4650790425,"value":2},{"lat":37.7522732829,"lon":-122.4274044321,"value":90},{"lat":37.7427541018,"lon":-122.410288974,"value":17},{"lat":37.7025419127,"lon":-122.4112913576,"value":33},{"lat":37.7107891427,"lon":-122.4220124454,"value":9}];

        const scatterplotLayer = new deck.ScatterplotLayer({
            id: 'scatterplot-layer',
            data: data,
            getPosition: d => [d.lon, d.lat],
            getRadius: d => 100,
            getColor: d => [255, 140, 0],
            radiusMinPixels: 5,
            radiusMaxPixels: 10
        });

        new deck.DeckGL({
            container: 'map',
            mapStyle: 'mapbox://styles/mapbox/streets-v11',
            initialViewState: {
                longitude: -122.45,
                latitude: 37.75,
                zoom: 10,
                pitch: 0,
                bearing: 0
            },
            layers: [scatterplotLayer],
            mapboxApiAccessToken: 'pk.eyJ1IjoieWFib291biIsImEiOiJjbHd3NDB4ZTIwdmxxMmlvZXQ2NW5vdnV6In0.971VB1V4l90g2DhQLAG28w',
            controller: true
        });
    </script>
</body>
</html>

